{% extends "layout.html" %}

{% block title %}✏ 항목 수정{% endblock %}

{% block body %}

<h3 class="text-center mb-4">✏ 분실물 / 습득물 정보 수정</h3>

<div class="card shadow-sm mx-auto" style="max-width: 800px;">
    <div class="card-body">

        <form method="POST" action="/edit/{{ item.id }}" enctype="multipart/form-data">

            <div class="mb-3">
                <label class="form-label fw-bold">물품 이름</label>
                <input type="text" name="name"
                       class="form-control"
                       value="{{ item.name }}" required>
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">카테고리</label>
                <input type="text" name="category"
                       class="form-control"
                       value="{{ item.category }}">
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">장소</label>
                <input type="text" name="place"
                       class="form-control"
                       value="{{ item.place }}" required>
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">날짜</label>
                <input type="date" name="date"
                       class="form-control"
                       value="{{ item.date }}">
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">연락처</label>
                <input type="text" name="contact"
                       class="form-control"
                       value="{{ item.contact }}">
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">설명</label>
                <textarea name="description"
                          class="form-control" rows="3">{{ item.description }}</textarea>
            </div>

            <hr class="my-4">

            <div class="mb-3">
                <label class="form-label fw-bold">현재 이미지</label><br>
                {% if item.image %}
                    <img src="{{ item.image }}"
                         style="max-width: 250px; border-radius: 8px;">
                {% else %}
                    <p class="text-muted">등록된 이미지가 없습니다.</p>
                {% endif %}
            </div>

            <div class="mb-3">
                <label class="form-label fw-bold">새 이미지 업로드</label>
                <input type="file" name="image" class="form-control">
                <small class="text-muted">선택하지 않으면 기존 이미지를 유지합니다.</small>
            </div>

            <div class="d-flex gap-2 mt-4">
                <button type="submit" class="btn btn-primary flex-grow-1">
                    💾 수정 저장
                </button>
                <a href="/item/{{ item.id }}" class="btn btn-secondary">
                    ↩ 돌아가기
                </a>
            </div>

        </form>

    </div>
</div>

{% endblock %}
